<!DOCTYPE html>
<html lang="en">
  <head>
    <title>PromisingResult Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Class/PromisingResult" class="dashAnchor"></a>

    <a title="PromisingResult Class Reference"></a>

    <header class="header">
      <a href="https://media.monks.com">
        <img src="../img/logo.png" srcset="../img/logo@2x.png 2x" alt="Media.Monks" class="header-logo" />
      </a>
    
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">MMMSnapshotStorage Reference</a>
      <img class="carat" src="../img/carat.png" alt=""/>
      PromisingResult Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/FileBasedSnapshotStorage.html">FileBasedSnapshotStorage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/MockSingleSnapshotContainer.html">MockSingleSnapshotContainer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/MockSnapshotStorage.html">MockSnapshotStorage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/PromisingResult.html">PromisingResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/PromisingResultSink.html">PromisingResultSink</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/StoredLoadable.html">StoredLoadable</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/InvalidationPolicy.html">InvalidationPolicy</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/SingleSnapshotContainer.html">SingleSnapshotContainer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/SnapshotStorage.html">SnapshotStorage</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/Promising">Promising</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>PromisingResult</h1>
            <p>A promise-like type using <code>Swift.Result</code> as its value. This part is to be seen by the user code,
the one that is interested in consumption or transformation of the result, not providing it.
You cannot initialize it directly, see <code><a href="../Classes/PromisingResultSink.html">PromisingResultSink</a></code> for the part where the value can be pushed to.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    You must keep a reference to this object or the corresponding callback chain will be cancelled.

</div>

<p>I would like to try this for one-time sequential operations as a lighter version of <code>MMMLoadable</code>
or usual promises. (And we cannot use Combine just yet.) If you want to use other similar libs,
then it should be easy to make an adapter. No extra features expected. It&rsquo;s reinventing the bicycle,
but is not always a bad idea.</p>

<p>(The name is a bad pun on the &ldquo;results&rdquo; inner joke and this thing being related to promises.)</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/failure(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">failure(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An instance that is a failure from the start.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/success(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">success(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An instance that is a success from the start.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/completion(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">completion(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets a closure to call when the result is ready.</p>

<p>Only a single transform or completion can be set.
Can be set after the result is available, still will be called.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/completion(queue:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">completion(queue:<wbr>_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets a closure to call on the given queue when the result is ready.</p>

<p>Only a single transform or completion can be set.
Can be set after the result is available, still will be called.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/then(queue:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">then(queue:<wbr>_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>When the result is ready and is successful, then it&rsquo;s passed to the given closure;
when it&rsquo;s ready but is a failure, then it&rsquo;s directly passed further.
(This is like <code>transformSuccess()</code>, but when the result of the transformation is async.)</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/transform(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">transform(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets a transformation to perform on the result when it&rsquo;s ready.</p>

<p>Only a single transform or completion can be set.
Can be set after the result is available, still will be called.</p>

<p>Note that I did not want to use <code>flatMap</code> already used with <code>Swift.Result</code> as its use is confusing there.
One can use mapping functions of the result in the closure.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/transformSuccess(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">transformSuccess(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets a transformation to perform on the result when it&rsquo;s ready and is a success.
(A failure is going to be passed as is.)
This is an alternative to <code>transform</code> when there is no need in transforming the failure.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/transformError(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">transformError(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets a transformation to perform on the result when it&rsquo;s ready and is a failure.
(A success is going to be passed as is.)
This is an alternative to <code>transform</code> when there is no need in transforming the success.
Note that it&rsquo;s not called <code>transformFailure</code> because it gets an associated value of <code>.failure</code>.</p>

                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2022 <a class="link" href="https://github.com/mediamonks/MMMSnapshotStorage" target="_blank" rel="external noopener">MediaMonks</a>. All rights reserved. (Last updated: 2022-04-26)</p>
      <p></p>
    </section>
  </body>
</html>
